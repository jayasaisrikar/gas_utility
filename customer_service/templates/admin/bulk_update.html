{% extends "admin/base_site.html" %}

{% block content %}
<form action="" method="post">
    {% csrf_token %}
    <div>
        <label for="action">Action:</label>
        <select name="action" id="action">
            <option value="update_status">Update Status</option>
            <option value="update_priority">Update Priority</option>
        </select>
    </div>
    <div id="status_options">
        <label for="status">New Status:</label>
        <select name="status" id="status">
            <option value="PENDING">Pending</option>
            <option value="IN_PROGRESS">In Progress</option>
            <option value="RESOLVED">Resolved</option>
            <option value="CLOSED">Closed</option>
        </select>
    </div>
    <div id="priority_options" style="display: none;">
        <label for="priority">New Priority:</label>
        <select name="priority" id="priority">
            <option value="LOW">Low</option>
            <option value="MEDIUM">Medium</option>
            <option value="HIGH">High</option>
            <option value="URGENT">Urgent</option>
        </select>
    </div>
    <input type="submit" value="Update" />
</form>

<script>
    document.getElementById('action').addEventListener('change', function() {
        var statusOptions = document.getElementById('status_options');
        var priorityOptions = document.getElementById('priority_options');
        if (this.value === 'update_status') {
            statusOptions.style.display = 'block';
            priorityOptions.style.display = 'none';
        } else if (this.value === 'update_priority') {
            statusOptions.style.display = 'none';
            priorityOptions.style.display = 'block';
        }
    });
</script>
{% endblock %}